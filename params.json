{"body":"# Welcome to cmssh project.\r\nThe cmssh (CMS shell) is a part of [CMS](http://cms.cern.ch/) software initiative to simplify your daily activity in CMS environment. Think of it as combination of data discovery, file mover and release management tools in one user-friendly shell which runs on your favorite OS, Mac or Linux. The code is based on [IPython](http://ipython.org/) and provides access to find your favorite data, to copy desired LFNs from/to storage elements and local disk, manage your CMS releases, etc. Plus it is based on python, therefore you can extended as you wish, e.g. you can write function and use it in a shell, etc.\r\n\r\n# How to set it up?\r\nDownload [cmssh_install.py](https://raw.github.com/dmwm/cmssh/master/cmssh_install.py) script and run it as following\r\n\r\n```\r\n./cmssh_install.py --help\r\n./cmssh_install.py --install --dir=your_install_dir\r\n```\r\n\r\n# How to use it?\r\nThe usage of cmssh is very simple, in fact very similar to your shell. Here is a few basic commands you may find interesting:\r\n\r\n### search for some data\r\n```\r\nfind dataset=*CRUZET3*RAW\r\nfor r in results(): print r, type(r)\r\n```\r\n\r\n### ls/find/info command\r\n```\r\nls /Cosmics/CRUZET3-v1/RAW\r\ninfo /Cosmics/CRUZET3-v1/RAW\r\nfind file dataset=/Cosmics/CRUZET3-v1/RAW\r\nfind site dataset=/Cosmics/CRUZET3-v1/RAW\r\nfind run=160915\r\ninfo run=160915\r\n```\r\n\r\nEvery time you run a command there is **results()** function which capture its output. For example, for last command I can simply invoke **results()**, iterate over its items and print out item data members\r\n```\r\nfor r in results():\r\n    print r.initLumi, type(r.initLumi), r.DeliveredLumi, type(r.DeliveredLumi)\r\n```\r\n\r\n### find lumi info\r\n```\r\nfind lumi dataset=/Photon/Run2012A-29Jun2012-v1/AOD\r\nfind lumi block=/Photon/Run2012A-29Jun2012-v1/AOD#3e33ce8e-c44d-11e1-9a26-003048f0e1c6\r\nfind lumi file=/store/data/Run2012A/Photon/AOD/29Jun2012-v1/0000/001B241C-ADC3-E111-BD1D-001E673971CA.root\r\nfind lumi run=190704\r\nfind lumi {190704:[1,2,3,4], 201706:[1,2,3,67]}\r\n```\r\n\r\n### find dataset configuration\r\n```\r\nfind config dataset=/SUSY_LM9_sftsht_8TeV-pythia6/Summer12-START50_V13-v1/GEN-SIM\r\n```\r\n\r\n### read commands\r\n```\r\nread https://cmsweb.cern.ch/couchdb/reqmgr_config_cache/7a2f69a2a0a6df3bf57ebd6586f184e1/configFile\r\nfind config dataset=/SUSY_LM9_sftsht_8TeV-pythia6/Summer12-START50_V13-v1/GEN-SIM > config.txt\r\nread config.txt\r\nread https://twiki.cern.ch/twiki/bin/view/CMSPublic/WorkBookFWLitePython\r\n```\r\n\r\n### list/copy LFN to local disk\r\n```\r\nls /store/data/CRUZET3/Cosmics/RAW/path/file.root\r\ncp /store/data/CRUZET3/Cosmics/RAW/path/file.root .\r\n```\r\n\r\n### SE operations, e.g. list its content, create/delete directory, etc.\r\n```\r\ndu T3_US_Cornell\r\nls T3_US_Cornell\r\nls T3_US_Cornell:/store/user/me\r\nmkdir T3_US_Cornell:/store/user/me/foo\r\nrmdir T3_US_Cornell:/store/user/me/foo\r\n```\r\n\r\n### copy local file to SE\r\n```\r\ncp file.root T3_US_Cornell:/store/user/me\r\n```\r\n\r\n### copy LFN from SE to local disk\r\n```\r\ncp T3_US_Cornell:/store/user/me/file.root .\r\n```\r\n\r\n### delete file on SE\r\n```\r\nrm T3_US_Cornell:/xrootdfs/cms/store/user/me/file.root\r\n```\r\n\r\n### copy LFN to SE area\r\n```\r\ncp /store/data/CRUZET3/Cosmics/RAW/path/file.root T3_US_Cornell:/store/user/me\r\n```\r\n\r\n### copy multiple files in background\r\n```\r\ncp /store/data/CRUZET3/Cosmics/RAW/path/file1.root . &\r\ncp /store/data/CRUZET3/Cosmics/RAW/path/file2.root . &\r\n```\r\n\r\n### look-up transfer status\r\n```\r\njobs list\r\n```\r\n\r\n### look-up job information at given site or dashboard\r\n```\r\njobs site=T2_US_UCSD\r\njobs dashboard\r\n```\r\n\r\n### find user information and look-up user activity in dashboard\r\n```\r\nfind user=oliver\r\njobs user=AikenOliver\r\n```\r\n\r\n### look-up available releases\r\n```\r\nreleases\r\n```\r\n\r\n### install your favorite release\r\n```\r\ncmsrel CMSSW_5_2_0_pre1\r\n```\r\n\r\n### run cms job\r\n```\r\ncmsRun runevt_cfg.py\r\n```\r\n# Help and Support\r\nYou can find cmssh help by typing **cmshelp** in your shell. For more information please contact the [author](mailto:vkuznet@gmail.com). For bugs please use GitHub [tracking system](https://github.com/dmwm/cmssh/issues).","google":"","name":"cmssh","tagline":"Interactive shell for CMS experiment","note":"Don't delete this file! It's used internally to help with page regeneration."}